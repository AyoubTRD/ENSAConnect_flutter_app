# -----------------------------------------------
# !!! THIS FILE WAS GENERATED BY TYPE-GRAPHQL !!!
# !!!   DO NOT MODIFY THIS FILE BY YOURSELF   !!!
# -----------------------------------------------

type AuthResult {
  token: String!
  user: User!
}

type Chat {
  createdAt: DateTime!
  id: String!
  lastMessage: Message
  name: String
  updatedAt: DateTime!
  userIds: [String!]!
  users: [PublicUser!]!
}

input CreateChatInput {
  name: String
  userIds: [String!]!
}

input CreateMessageInput {
  chatId: String!
  fileIds: [String!] = []
  text: String!
}

input CreatePostInput {
  fileIds: [String!] = []
  text: String = ""
}

input CreateUserInput {
  email: String!
  firstName: String!
  lastName: String!
  password: String!
}

input CredentialsInput {
  email: String!
  password: String!
}

"""
The javascript `Date` as string. Type represents date and time as the ISO Date string.
"""
scalar DateTime

type MediaFile {
  blurhashCode: String
  createdAt: DateTime!
  filePath: String!
  fileType: MediaFileType!
  id: String!
  thumbnailPath: String
  updatedAt: DateTime!
  userId: String!
}

"""The types of media files"""
enum MediaFileType {
  DOCUMENT
  IMAGE
  OTHER
  VIDEO
}

type Message {
  chatId: String!
  createdAt: DateTime!
  fileIds: [String!]!
  id: String!
  text: String!
  updatedAt: DateTime!
  userId: String!
}

type Mutation {
  createChat(input: CreateChatInput!): Chat!
  createMessage(input: CreateMessageInput!): Message!
  createPost(post: CreatePostInput!): Post!
  createUser(user: CreateUserInput!): AuthResult!
  deleteMe: Boolean!
  deletePost(postId: String!): Boolean!
  deleteToken: Boolean!
  updatePost(input: UpdatePostInput!, postId: String!): Post!
  updateUser(user: UpdateUserInput!): User!
}

type Post {
  author: PublicUser!
  authorId: String!
  createdAt: DateTime!
  fileIds: [String!]!
  files: [MediaFile!]!
  id: String!
  text: String!
  updatedAt: DateTime!
}

type PublicUser {
  avatar: MediaFile
  createdAt: DateTime!
  firstName: String!
  fullName: String!
  id: String!
  lastName: String!
}

type Query {
  getAllUsers: [PublicUser!]!
  getChatById(chatId: String!): Chat!
  getChatMessages(chatId: String!): [Message!]!
  getChats: [Chat!]!
  getMe: User!
  getPosts: [Post!]!
  getToken(credentials: CredentialsInput!): AuthResult!
  getUser(id: String!): User
}

input UpdatePostInput {
  fileIds: [String!]
  text: String
}

input UpdateUserInput {
  avatarFileId: String
  email: String
  firstName: String
  lastName: String
  oldPassword: String
  password: String
  phoneNumber: String
}

type User {
  avatar: MediaFile
  avatarFileId: String
  canUpdateName: Boolean!
  createdAt: DateTime!
  email: String!
  firstName: String!
  fullName: String!
  id: String!
  lastName: String!
  lastUpdatedName: DateTime
  phoneNumber: String
}
